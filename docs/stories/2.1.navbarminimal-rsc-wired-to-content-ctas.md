---
title: "Story 2.1: navbarminimal-rsc-wired-to-content-ctas"
status: Draft
owner: scrum-master
---

# Story 2.1 — NavbarMinimal (RSC) wired to `content.form` CTAs

## Status
Approved

## Story
**As a** developer,
**I want** to implement a minimal RSC navbar that reads CTA labels from `content.form`,
**so that** all header actions are content-driven with proper accessibility and analytics hooks.

## Acceptance Criteria
1. All section copy reads from `/content/site.ts`; no hardcoded strings. [Epic AC]
2. Keyboard navigation path verified; focus-visible styles present. [Epic AC]
3. No Client-side animation logic introduced. [Epic AC]
4. Navbar CTAs render from `content.form.ctaPrimary` and `content.form.ctaSecondary`. [Source: prd/05-content-and-information-architecture.md#5.2]
5. Sticky header ≤ 72px; never overlaps focus. [Source: prd/06-features.md#6.1]

## Tasks / Subtasks
- [x] Create `NavbarMinimal` as an RSC component
  - [x] Read `ctaPrimary` and `ctaSecondary` from `content.form`
  - [x] Provide `data-` hooks for analytics (click handlers will be wired later)
  - [x] Ensure sticky behavior with proper z-index token
- [x] Add keyboard/tab order and visible focus styles
- [x] Add unit snapshot to ensure CTAs render from content

## Dev Notes

### Content Source & Mapping
- Navbar pulls CTAs from `content.form` (no hardcoded strings). [Source: prd/05-content-and-information-architecture.md#5.2, #5.6]

### Architecture & RSC Boundaries
- Keep Navbar as RSC; only wrap small client handler later for click analytics if needed. [Source: architecture/02-frontend-application-architecture.md#2.2]

### Analytics Expectations
- Event names `cta_click_primary`, `cta_click_secondary` with context. Deferral of actual handlers is acceptable in this epic. [Source: prd/06-features.md#6.7; architecture/02-frontend-application-architecture.md#2.9]

### Accessibility
- Keyboard-first, focus-visible rings. [Source: architecture/02-frontend-application-architecture.md#2.6; prd/07-performance-accessibility-and-seo.md#7.2]
  - Uses `sticky` header at 64px; relies on `--nn-z-header` and `:focus-visible` baseline.

## Testing
- Verify CTAs come from `content.form` via unit test.
  - Implemented using Vitest + React Testing Library with a snapshot.
- Manual a11y check: TAB order and visible focus.

## Change Log
| Date       | Version | Description                          | Author |
|------------|---------|--------------------------------------|--------|
| 2025-08-08 | 0.1     | Draft for NavbarMinimal RSC created  | SM     |

## Dev Agent Record
Agent Model Used: dev

Tasks / Subtasks Checkboxes:
- Navbar created and wired to content: [x]
- Data hooks present and sticky header: [x]
- Keyboard/focus styles: [x]
- Unit test added: [x]

Debug Log References:
- Added `NavbarMinimal` and wired into `app/layout.tsx`.
- Test at `app/(sections)/Navbar/NavbarMinimal.test.tsx` passes.

Completion Notes:
- Navbar kept RSC; analytics handlers to be added in later stories.

File List:
- Added: `app/(sections)/Navbar/NavbarMinimal.tsx`, `app/(sections)/Navbar/NavbarMinimal.test.tsx`
- Modified: `app/layout.tsx`, `vitest.config.ts`, `vitest.setup.ts`, `package.json`


