---
title: "Story 6.1: configure-vercel-project-and-domains-https-hsts"
status: Draft
owner: scrum-master
---

# Story 6.1 — Configure Vercel project, domains, HTTPS, HSTS

## Status
Approved

## Story
**As a** tech lead,
**I want** to set up Vercel Preview/Production environments, domains, and HTTPS (with HSTS),
**so that** deployments are reliable and secure with clear environment separation.

## Acceptance Criteria
1. Preview and Production environments live; domain & HTTPS ready. [Source: epic]
2. HSTS enabled after verifying HTTPS across subdomains. [Source: architecture/04-infrastructure-and-deployment-topology.md#4.1]
3. Branch flow: PR → Preview, `main` → Production (protected). [Source: architecture/04-infrastructure-and-deployment-topology.md#4.2]
4. Env vars separated for Preview vs Production using Vercel Encrypted Env Vars. [Source: architecture/04-infrastructure-and-deployment-topology.md#4.7]

## Tasks / Subtasks
- [ ] Create/configure Vercel project; link repo
- [ ] Add domains: `neonova.com` (prod), `staging.neonova.com` (preview alias)
- [ ] Verify HTTPS certs; only then enable HSTS (`max-age=15552000; includeSubDomains; preload`)
- [ ] Configure branch protections and required checks for `main`
- [ ] Set Preview vs Production env vars in Vercel (no secrets in repo)
- [ ] (Optional) Pin Server Action region to `sin1`; document decision. [Source: architecture/04-infrastructure-and-deployment-topology.md#4.4]

## Dev Notes

### Domains & TLS
- Prefer Vercel-managed DNS for instant certs, zero-downtime swaps. [Source: architecture/04-infrastructure-and-deployment-topology.md#4.1]

### Environments & Flow
- PR → Preview; `main` → Production; consider `staging` alias. [Source: architecture/04-infrastructure-and-deployment-topology.md#4.2]

### Secrets & Env Vars
- Use Vercel Encrypted Env Vars; distinct values for each environment. [Source: architecture/04-infrastructure-and-deployment-topology.md#4.7]

## Testing
- Validate domains resolve with HTTPS.
- Confirm HSTS response header appears only after enabling and not before DNS/HTTPS verified.

## Change Log
| Date       | Version | Description                                            | Author |
|------------|---------|--------------------------------------------------------|--------|
| 2025-08-08 | 0.1     | Draft for Vercel project/domains/HTTPS/HSTS created   | SM     |

## Dev Agent Record
To be filled by the development agent during implementation.


