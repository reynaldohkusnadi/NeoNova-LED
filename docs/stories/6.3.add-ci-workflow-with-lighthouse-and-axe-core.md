---
title: "Story 6.3: add-ci-workflow-with-lighthouse-and-axe-core"
status: Draft
owner: scrum-master
---

# Story 6.3 — Add CI workflow with Lighthouse CI and axe-core

## Status

Approved

## Story

**As a** tech lead,
**I want** CI to enforce typecheck, lint, Lighthouse ≥90, axe-core no criticals, and bundle budgets,
**so that** quality gates block merges when thresholds regress.

## Acceptance Criteria

1. CI runs: typecheck, lint, Lighthouse CI (desktop+Moto) ≥ 90, axe-core no criticals, bundle budget report. [Source: architecture/04-infrastructure-and-deployment-topology.md#4.3]
2. Required checks block merges to `main`; override requires approval. [Source: architecture/04-infrastructure-and-deployment-topology.md#4.3]

## Tasks / Subtasks

- [ ] Configure workflow to run on PRs and `main`
- [ ] Add steps: `pnpm install && pnpm typecheck && pnpm lint`
- [ ] Integrate Lighthouse CI and axe-core jobs
- [ ] Add bundle guard (app shell gzip ≤ 140 KB; 3D payload report)
- [ ] Mark checks as required in repo settings

## Dev Notes

### Budgets & Perf Targets

- App shell JS ≤ 140 KB gzip; 3D first payload ≤ 1.2 MB. [Source: architecture/02-frontend-application-architecture.md#2.7; prd/07-performance-accessibility-and-seo.md#7.1]

## Testing

- Open a PR and verify checks; ensure a failing threshold blocks merge.

## Change Log

| Date       | Version | Description                              | Author |
| ---------- | ------- | ---------------------------------------- | ------ |
| 2025-08-08 | 0.1     | Draft for CI workflow with quality gates | SM     |

## Dev Agent Record

To be filled by the development agent during implementation.
