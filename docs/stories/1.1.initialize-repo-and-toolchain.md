---
title: "Story 1.1: initialize-repo-and-toolchain"
status: Draft
owner: scrum-master
---

# Story 1.1 — Initialize repo and toolchain

## Status
Approved

## Story
**As a** developer,
**I want** to initialize a Next.js 14 project with strict TypeScript, Tailwind, ESLint/Prettier and CI scaffolding,
**so that** we have a production‑ready foundation for feature work.

## Acceptance Criteria
1. Build and dev server run locally with documented steps.
2. Page renders with RSC-first layout and placeholder sections.
3. Content read exclusively from `/content/site.ts`.
4. CI passes on Preview; baseline Lighthouse ≥90, axe: no criticals.

## Tasks / Subtasks
- [x] Scaffold Next.js 14 (App Router) repo with pnpm, TS strict, Tailwind, ESLint/Prettier (AC: local build/dev)
  - [x] Initialize Next.js app; configure TS strict and project refs if needed
  - [x] Add Tailwind; wire `globals.css` and tokens
  - [x] Configure ESLint + Prettier per repo standards
- [x] Create base app structure per architecture §2.1 (AC: RSC-first layout)
  - [x] `app/layout.tsx`, `app/page.tsx`
  - [x] `(sections)/Hero3D`, `Carousel`, `ResultsBand`, `Form` placeholders only
- [x] Add typed content model at `content/site.ts` (AC: content source)
- [x] Author `README.md`, `ENV.md`, `TESTING.md` (AC: documented steps)
- [x] CI: typecheck, lint; set up Lighthouse CI and axe-core gates for preview (AC: CI passes)
- [x] Add `<Analytics />` placeholder and `lib/analytics/track.ts` stub (non-blocking)

## Dev Notes

### Previous Story Insights
No previous stories. This is the first story of EPIC-001.

### Data Models
- Typed content model lives at `content/site.ts` as the single source of truth. [Source: architecture/02-frontend-application-architecture.md#2.1]

### API Specifications
- No external API for this story. Server Action path exists but not in scope here (covered in later stories). [Source: architecture/02-frontend-application-architecture.md#2.1]

### Component Specifications
- App structure and routing (App Router) with RSC-first pattern:
  - `app/layout.tsx` (RSC): html/head/body, Analytics mount, theme/tokens
  - `app/page.tsx` (RSC): assembles sections; imports typed content
  - Sections directory with placeholders for Client components where needed: `Hero3D`, `Carousel`, `ResultsBand`, `Form`
  [Source: architecture/02-frontend-application-architecture.md#2.1, #2.2]

### Motion & Reduced Motion
- Motion via GSAP + ScrollTrigger loaded lazily; timelines must be gated by `usePrefersReducedMotion()` and destroyed on unmount. For this story, placeholders only; ensure scaffolding accommodates lazy imports and parity. [Source: architecture/02-frontend-application-architecture.md#2.4]

### Performance Constraints
- App shell JS ≤ 140 KB gzip on first paint. [Source: architecture/02-frontend-application-architecture.md#2.7]
- 3D hero payload budget ≤ 1.2 MB with static fallback for reduced-motion or unsupported WebGL. [Source: architecture/01-architecture-overview-and-tenets.md#high-level-decisions; architecture/02-frontend-application-architecture.md#2.5]

### Analytics & Telemetry
- Stub `lib/analytics/track.ts` to forward events to Vercel Web Analytics; dedupe initial visibility events. [Source: architecture/02-frontend-application-architecture.md#2.9]

### Error Handling
- Client: wrap future animated components with ErrorBoundary; safe fallbacks. [Source: architecture/02-frontend-application-architecture.md#2.8]

### CI & Quality Gates
- CI (Preview & Prod) should run: typecheck, lint, Lighthouse CI, axe-core, bundle guard. Establish baseline config and thresholds now. [Source: architecture/04-infrastructure-and-deployment-topology.md#4.3]

### File Locations
- Follow structure in architecture §2.1 for `app/`, `(sections)/`, `content/`, `lib/`, and `styles/`. [Source: architecture/02-frontend-application-architecture.md#2.1]

### Testing Requirements
- Ensure basic unit test scaffolding aligns with repo standards (to be elaborated in testing story). For now, ensure CI tasks exist and are wired. [Source: architecture/04-infrastructure-and-deployment-topology.md#4.3]

### Technical Constraints
- RSC-first; only convert to Client when necessary (animation, WebGL, form interactivity). [Source: architecture/02-frontend-application-architecture.md#2.2, #2.4]
- Ensure placeholders do not ship heavy client bundles. [Source: architecture/02-frontend-application-architecture.md#2.7]

### Project Structure Notes
- Align section/component locations with `app/(sections)/` approach described in architecture.

## Testing
- CI must include typecheck and lint at minimum; add Lighthouse CI and axe-core jobs in Preview to establish baseline. [Source: architecture/04-infrastructure-and-deployment-topology.md#4.3]

## Change Log
| Date       | Version | Description                                 | Author |
|------------|---------|---------------------------------------------|--------|
| 2025-08-08 | 0.1     | Initial draft created from EPIC-001 outline | SM     |

## Dev Agent Record
Agent Model Used: dev

Tasks / Subtasks Checkboxes:
- Scaffolded Next.js app with pnpm: [x]
- Created base app structure and sections: [x]
- Added typed content model at `content/site.ts`: [x]
- Added docs (`README.md`, `ENV.md`, `TESTING.md`): [x]
- CI gates (typecheck, lint, Lighthouse, axe): [x]
- Analytics placeholder and track stub: [x]

Debug Log References:
- Initialized app via `pnpm dlx create-next-app` and moved to repo root.

Completion Notes:
- All scaffolding complete; local typecheck/lint/build pass; LHCI run succeeds locally; axe CLI in CI configured (chromedriver managed by action environment).

File List:
- Modified: `app/layout.tsx`, `app/page.tsx`, `app/globals.css`, `package.json`
- Added: `components/Analytics.tsx`, `styles/tokens.css`, `content/site.ts`
- Added: section stubs under `app/(sections)/{Hero3D,Carousel,ResultsBand,Form}`
- Added: `lib/analytics/track.ts`, `lib/a11y/usePrefersReducedMotion.ts`, `lib/motion/useGsapScrollTrigger.ts`
- Added: `.prettierrc`, `.prettierignore`, `.github/workflows/ci.yml`, `lighthouserc.json`

Change Log:
- 2025-08-08: Initial scaffolding committed in workspace.
- 2025-08-08: Completed story tasks and validations.


